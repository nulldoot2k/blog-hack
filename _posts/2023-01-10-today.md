---
permalink: ls/right.html
---

## Setup Cluster

> 1 master and 2 worker

## Setup Stack

> kubectl create namespace monitoring

> helm repo add prometheus-community https://prometheus community.github.io/helm-charts

> helm install prometheus prometheus-community/kube-prometheus-stack --namespace monitoring

> kubectl get pods -n monitoring

> Kubectl get svc -n monitoring

> kubectl --namespace monitoring patch svc prometheus-kube-prometheus-prometheus -p '{"spec": {"type": "NodePort"}}'

> kubectl --namespace monitoring patch svc prometheus-grafana -p '{"spec": {"type": "NodePort"}}'


## Setup Victoria

> kubectl --namespace monitoring patch svc vmagent -p '{"spec": {"type": "NodePort"}}'


## create dashboard

> Kubectl apply -f https://raw.githubusercontent.com/kubernetes/dashboard/v2.7.0/aio/deploy/recommended.yaml

> kubectl --namespace kubernetes-dashboard patch svc kubernetes-dashboard -p '{"spec": {"type": "NodePort"}}'

> kubectl -n kubernetes-dashboard create token admin-user
